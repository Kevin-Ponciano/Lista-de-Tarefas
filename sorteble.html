<html lang="en">

<head>
    <title>Jquery - bootstrap Prompt modal using bootbox.js</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.css" rel="stylesheet">
</head>
<style>
    table th,
    table td {
        width: 100px;
        padding: 5px;
        border: 1px solid #ccc;
    }

    .selected {
        background-color: #666;
        color: #fff;
    }
</style>

<body>
    <div class="container text-center">
        <table id="tblLocations" cellpadding="0" cellspacing="0" border="1">
            <thead>
                <tr>
                    <th>ID </th>
                    <th>Location</th>
                    <th>Preference</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td> Goa</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Mahabaleshwar</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Kerala</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Kashmir</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Ooty</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Simla</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Manali</td>
                    <td>7</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Darjeeling</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Nanital</td>
                    <td>9</td>
                </tr>
            </tbody>

        </table>
    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <link rel="stylesheet"
        href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.24/themes/smoothness/jquery-ui.css" />
    <script type="text/javascript"
        src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.24/jquery-ui.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#tblLocations").sortable({
                items: 'tr', // realiza o sort em todos os tr menos no primeiro
                cursor: 'pointer',
                tolerance: "pointer",
                axis: 'y',
                dropOnEmpty: false,
                containment: "parent",
                start: function (e, ui) {
                    ui.item.addClass("selected");
                },
                stop: function (e, ui) {
                    ui.item.removeClass("selected");
                    $(this).find("tr").each(function (index) {
                        if (index > 0) {
                            $(this).find("td").eq(2).html(index);
                        }
                    });
                },
                update: function(event, ui){
                    console.log(event);
                    console.log(ui);
                }
            });
        });
    </script>
</body>

</html>